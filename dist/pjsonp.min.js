!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("pjsonp",[],n):"object"==typeof exports?exports.pjsonp=n():e.pjsonp=n()}(window,(function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){e.exports=r(1)},function(e,n,r){"use strict";var t=["anonymous","use-credentials",""];function o(e,n){n=n||0;var r=e+ +new Date+"_"+n;return void 0===window[r]?(window[r]=null,r):o(e,n+1)}function i(e){return function(n){return Object.prototype.toString.call(n)==="[object "+e+"]"}}var c=i("String"),u=i("Boolean"),a=window.encodeURIComponent,l=Object.prototype.hasOwnProperty;function f(e){return c(e)&&e.length>0}function s(e,n){n||(n={});var r,i,s,d=f(n.callbackNamePrefix)?n.callbackNamePrefix:"__jp",p=f(n.callbackName)?n.callbackName:o(d),m=f(n.callbackParamName)?n.callbackParamName:"callback",b=n.timeout||0,v=n.params||{},w=!u(n.encode)||n.encode,y=document.createElement("script");if(null!=n.crossOrigin){if(!(c(n.crossOrigin)&&t.indexOf(n.crossOrigin)>-1))return Promise.reject(new Error("Invalid crossOrigin value: "+n.crossOrigin));y.crossOrigin=n.crossOrigin}function j(){s&&clearTimeout(s),y.parentNode&&y.parentNode.removeChild(y),window[p]=void 0,i&&window.removeEventListener("error",i)}var O=[];for(r in O.push(m+"="+p),v)l.call(v,r)&&O.push((w?a(r):r)+"="+(w?a(v[r]):v[r]));return e=(e+=(~e.indexOf("?")?"&":"?")+O.join("&")).replace("?&","?"),y.src=e,new Promise((function(n,r){b&&(s=setTimeout((function(){j(),r(new Error("Timeout"))}),b)),i=function(n){var t=n.filename,o=n.error;t===e&&(j(),r(o))},window.addEventListener("error",i),y.onerror=function(){j(),r(new Error("Script error"))},window[p]=function(e){j(),n(e)},function(e){var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):document.head.appendChild(e)}(y)}))}e.exports=s,e.exports.default=s}])}));
//# sourceMappingURL=pjsonp.min.map