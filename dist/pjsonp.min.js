!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("pjsonp",[],n):"object"==typeof exports?exports.pjsonp=n():e.pjsonp=n()}(window,(function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){e.exports=r(1)},function(e,n,r){"use strict";var t=["anonymous","use-credentials",""];function o(e,n){n=n||0;var r=e+ +new Date+"_"+n;return r in window?o(e,n+1):(window[r]=null,r)}function i(e){return function(n){return Object.prototype.toString.call(n)==="[object "+e+"]"}}var c=i("String"),u=i("Boolean"),a=i("Number"),l=window.encodeURIComponent,f=Object.prototype.hasOwnProperty;function p(e){return c(e)&&e.length>0}function d(e,n){n||(n={});var r,i=p(n.callbackNamePrefix)?n.callbackNamePrefix:"__jp",c=p(n.callbackName)?n.callbackName:o(i),d=p(n.callbackParamName)?n.callbackParamName:"callback",s=n.timeout||0,m=n.params||{},b=!u(n.encode)||n.encode,w=document.createElement("script"),y=null;if(null!=n.crossOrigin){if(!(t.indexOf(n.crossOrigin)>-1))return Promise.reject(new Error("Invalid parameter "+"crossOrigin"));w.crossOrigin=n.crossOrigin}function v(){y&&clearTimeout(y),w.parentNode&&w.parentNode.removeChild(w),delete window[c],r&&window.removeEventListener("error",r)}return e=(e+=(~e.indexOf("?")?"&":"?")+function(e,n,r){var t;for(t in r=r||[],e=e||{})f.call(e,t)&&r.push((n?l(t):t)+"="+(n?l(e[t]):e[t]));return r.join("&")}(m,b,[d+"="+c])).replace("?&","?"),w.src=e,new Promise((function(n,t){a(s)&&s>0&&(y=setTimeout((function(){v(),t(new Error("Timeout"))}),s)),r=function(n){var r=n.filename,o=n.error;r===e&&(v(),t(o))},window.addEventListener("error",r),w.onerror=function(){v(),t(new Error("Script error"))},window[c]=function(e){v(),n(e)},function(e){var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):document.head.appendChild(e)}(w)}))}e.exports=d,e.exports.default=d}])}));
//# sourceMappingURL=pjsonp.min.map